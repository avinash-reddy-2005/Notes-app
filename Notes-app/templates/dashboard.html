{% extends "base.html" %}

{% block title %}Dashboard - Notes App{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>Welcome back, {{ name }} ğŸ‘‹</h1>
        <span class="stats-badge">{{ notes|length }} Notes</span>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        <div class="flash-messages">
        {% for message in messages %}
            <div class="alert">{{ message }}</div>
        {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    <div class="notes-grid">
        {% for note in notes %}
        <div class="note-card">
            <h3>{{ note.title }}</h3>
            <div class="note-excerpt">
                {{ note.content }}
            </div>
            <div class="card-footer">
                <span class="note-date">{{ note.date.strftime('%b %d, %Y') }}</span>
                <div class="card-actions">
                    <a href="{{ url_for('update_note', id=note.id) }}" class="action-btn" title="Edit">âœï¸</a>
                    <a href="{{ url_for('delete_note', id=note.id) }}" class="action-btn delete" onclick="return confirm('Delete this note?')" title="Delete">ğŸ—‘ï¸</a>
                </div>
            </div>
        </div>
        {% else %}
        <div class="no-notes">
            <h3>No notes yet</h3>
            <p>Capture your first idea and watch it grow.</p>
        </div>
        {% endfor %}
    </div>

    <!-- Floating Action Button -->
    <a href="{{ url_for('add_note') }}" class="fab" title="Create New Note">+</a>
</div>
{% endblock %}
